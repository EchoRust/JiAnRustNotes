# Rust生态系统非官方指南(翻译)

本文是[Blessed - An unofficial guide to the Rust ecosystem](https://blessed.rs/crates)的翻译。

# `blessed.rs` 设什么?

`Rust` 的标准库要比 `Python` 或 `Go` 小得多。这些语言对 `HTTP(S)`、`JSON`、`时区`、`随机数`和`异步 IO` 等都提供了 "内置"支持。另一方面，`Rust` 可以从 `crates.io` 生态系统和 `Cargo` 软件包管理器中获得这些支持。但是，由于有近 `10` 万个 `crates` 可供选择，`Rust` 新开发者经常抱怨不知道从何入手，不知道应该使用哪些 `crates`，不知道应该信任哪些 `crates`。本列表试图回答这些问题。

另请参阅 [`lib.rs`](https://lib.rs/)，它采用了一种更为自动化的方法（根据下载数量对板条箱进行排序），同时还具有出色的搜索功能。

# 工具

用于处理 `Rust` 项目的开发人员工具。

| 应用场景     | 推荐的 crate                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `工具链管理` | [`rustup`](https://rustup.rs/) <br> 安装、管理和升级 `rustc`、`cargo`、`clippy`、`rustfmt` 等版本。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `代码检查`   | [`clippy`](https://github.com/rust-lang/rust-clippy#usage) <br> 官方 `Rust linter`。 <br>  [`cargo-semver-checks`](https://github.com/obi1kenobi/cargo-semver-checks) <br> 检查您的 `crate` 版本是否存在语义版本控制违规。                                                                                                                                                                                                                                                                                                                                                                                       |
| `代码格式化` | [`rustfmt`](https://github.com/rust-lang/rustfmt#rustfmt) <br> 官方 `Rust` 代码格式化程序。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `交叉编译`   | [`cross`](https://github.com/cross-rs/cross#cross) <br> 使用 `Docker` 容器进行无缝交叉编译。 <br>  [`cargo-zigbuild`](https://github.com/rust-cross/cargo-zigbuild) <br> 使用 `Zig` 作为链接器，可轻松进行交叉编译。                                                                                                                                                                                                                                                                                                                                                                                             |
| `依赖管理`   | [`cargo-edit`](https://github.com/killercup/cargo-edit") <br> `cargo`命令添加了 `cargo upgrade` 和 `cargo set-version`。 <br>  [`cargo-outdated`](https://github.com/kbknapp/cargo-outdated#cargo-outdated) <br> 查找有可用更新的依赖项。 <br>  [`cargo-audit`](https://github.com/RustSec/rustsec/tree/main/cargo-audit#rustsec-cargo-audit) <br> 检查依赖项是否存在已报告的安全漏洞。 <br>  [`cargo-license`](https://github.com/onur/cargo-license#cargo-license) <br> 列出所有依赖项的许可证。 <br>  [`cargo-deny`](https://github.com/EmbarkStudios/cargo-deny#-cargo-deny) <br> 对代码和依赖关系执行策略。 |
| `测试`       | [`cargo-nextest`](https://nexte.st) <br> 更快、更好的测试运行器。 <br> [`insta`](https://insta.rs) <br> 支持内联快照的快照测试。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `基准测试`   | [`criterion`](https://lib.rs/crates/criterion) <br> 用于基准测试库的统计准确的基准测试工具。 <br>  [`divan`](https://lib.rs/crates/divan) <br> 简单而强大的基准测试库，具有分配分析功能。 <br>  [`hyperfine`](https://github.com/sharkdp/hyperfine#hyperfine) <br> 用于对编译后的二进制文件进行基准测试的工具（类似于 `unix time` 命令，但效果更好）。                                                                                                                                                                                                                                                           |
| `性能`       | [`cargo-flamegraph`](https://github.com/flamegraph-rs/flamegraph#cargo-flamegraph) <br> 生成执行火焰图。 <br>  [`dhat`](https://lib.rs/crates/dhat) <br> 堆内存分析。 <br>  [`cargo-show-asm`](https://lib.rs/crates/cargo-show-asm) <br> 用于显示为 `Rust` 源代码生成的 `Assembly`、`LLVM-IR`、`MIR` 和 `WASM`。                                                                                                                                                                                                                                                                                                |
| `调试宏`     | [`Rust Analyzer`](https://github.com/rust-lang/rust-analyzer)<br>`Rust Analyzer` 还允许你在编辑器中直接扩展宏。 <br>  [`cargo-expand`](https://github.com/dtolnay/cargo-expand#cargo-expand") <br> 允许您检查宏扩展到的代码。                                                                                                                                                                                                                                                                                                                                                                                    |
| `发布自动化` | [`cargo-release`](https://github.com/crate-ci/cargo-release#cargo-release)<br>发布`cargo`新版本的助手。 <br>  [`Release-plz`](https://release-plz.ieni.dev/") <br> 通过`CI`发布`Rust crates`的`Release PR`。                                                                                                                                                                                                                                                                                                                                                                                                     |
| `持续集成`   | [`rust-toolchain (github action)`](https://github.com/dtolnay/rust-toolchain#install-rust-toolchain)<br>使用`Github Action`通过`rustup`安装`Rust`组件。 <br>  [`rust-cache (github action)`](https://github.com/Swatinem/rust-cache#rust-cache-action") <br> 使用`Github Action`生成编译缓存，并加速运行。<br>  [`install-action (github action)`](https://github.com/taiki-e/install-action") <br> 使用`Github Action`安装开发工具（主要来自`Github`发行版）。                                                                                                                                                  |

# 常用的

每个人都应该知道的常用`crate`

用于处理 `Rust` 项目的开发人员工具。

| 应用场景                 | 推荐的 crate                                                                                                                                                                                                                                                                                                                                                                                                     |
| ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `随机数`                 | [`rand`](https://lib.rs/crates/rand) <br> 从标准库中分离出来的事实上的随机数生成库                                                                                                                                                                                                                                                                                                                               |
| `时间和日期`             | 遗憾的是，在`time`和`chrono`之间，并没有哪个比另一个更好。请自行评估这两个库。不过，这两个库都是值得信赖的并且维护的都很好。<br> [`time`](https://lib.rs/crates/time) <br> 一个很小，很简单的库。如果能够满足你的需求，那么它将是你的首选，但是它提供的功能非常的有限。<br> [`chrono`](https://lib.rs/crates/chrono) <br> 一个非常完整的时间库，它提供了很多功能，同时也包含了很多不必要的功能，因此也更为复杂。 |
| `序列化（JSON、YAML等）` | [`serde`](https://serde.rs/) <br> 事实上的标准序列化库。请与 `serde_json` 等子库结合使用，以满足您使用的特定格式。                                                                                                                                                                                                                                                                                               |
| `正则表达式`             | [`regex`](https://lib.rs/crates/regex) <br> 事实上的标准 `regex` 库。速度非常快，但不支持回溯等更高级的功能。<br> [`fancy-regex`](https://lib.rs/crates/fancy-regex) <br> 如果需要回溯等 `regex` 不支持的功能，请使用该库。                                                                                                                                                                                      |
| `UUID`                   | [`uuid`](https://lib.rs/crates/uuid) <br> 实现生成和解析 `UUID` 以及一系列实用功能。                                                                                                                                                                                                                                                                                                                             |
| `临时文件`               | [`tempfile`](https://lib.rs/crates/tempfile) <br> 同时支持临时文件和临时目录。                                                                                                                                                                                                                                                                                                                                   |
| `(解)压缩`               | [`flate2`](https://lib.rs/crates/flate2) <br> 默认使用存 `Rust` 实现，通过使用 `feature` 可使用系统 `zlib`。                                                                                                                                                                                                                                                                                                     |
| `有序插入Map`            | [`indexmap`](https://lib.rs/crates/indexmap) <br> 单独跟踪插入顺序的 `HashMap`，可让您按照该顺序有效地遍历其元素。                                                                                                                                                                                                                                                                                               |
| `栈分配的数组`           | [`arrayvec`](https://lib.rs/crates/arrayvec) <br> 只采用固定容量栈分配的数组。<br> [`smallvec`](https://lib.rs/crates/smallvec) <br> 栈分配的数组，如果超过固定栈容量，则使用堆分配。<br> [`tinyvec`](https://lib.rs/crates/tinyvec) <br> 使用100%的安全`Rust`进行栈分配的数组，但是要求实现`Default trait`。                                                                                                    |
| `HTTP 请求`              | [`reqwest`](https://lib.rs/crates/reqwest) <br> 全功能`HTTP`客户端，支持在同步和异步两种方式，需要`tokio`运行时。<br> [`ureq`](https://lib.rs/crates/ureq) <br> 最小化的同步`HTTP`客户端，注重简单和最小化依赖。                                                                                                                                                                                                 |

# 错误处理

更容易处理错误的 `ctares`


